(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t){},107:function(e,t){},140:function(e,t){},141:function(e,t){},16:function(e){e.exports={cols:7,rows:6,rules:[{filter:[[[[1]],[[1]],[[1]],[[1]]]],total:4},{filter:[[[[1]]],[[[1]]],[[[1]]],[[[1]]]],total:4},{filter:[[[[1]],[[0]],[[0]],[[0]]],[[[0]],[[1]],[[0]],[[0]]],[[[0]],[[0]],[[1]],[[0]]],[[[0]],[[0]],[[0]],[[1]]]],total:4},{filter:[[[[0]],[[0]],[[0]],[[1]]],[[[0]],[[0]],[[1]],[[0]]],[[[0]],[[1]],[[0]],[[0]]],[[[1]],[[0]],[[0]],[[0]]]],total:4}]}},189:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),i=n(92),o=n.n(i),c=(n(99),n(31)),s=n(32),l=n(34),u=n(33),f=n(35),p=n(13),h=n.n(p),d=n(36),m=n(37),v=n(93),y=n.n(v),b=n(50),w=function(e){var t=e.value,n=e.columnIndex,r=e.play;return a.a.createElement("td",{className:"player_"+t,onClick:function(e){if(e.altKey)return r(n,!0);r(n)}},a.a.createElement("div",null,t))},k=function(e){var t=e.row,n=e.play;return a.a.createElement("tr",null,t.map(function(e,t){return a.a.createElement(w,{key:t,value:e,columnIndex:t,play:n})}))},g=n(16),j=(n(189),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={player1:1,player2:2,curPlayer:1,board:[],terminateState:!0,winner:0},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("section",null,a.a.createElement("div",{className:"navbar player_".concat(this.state.winner)},a.a.createElement("button",{onClick:this.initGame.bind(this),className:"btn btn-light"},"New game"),this.state.winner?a.a.createElement("div",null,"Winner!"):null),a.a.createElement(y.a,{bordered:!0},a.a.createElement("thead",null),a.a.createElement("tbody",null,this.state.board.map(function(t,n){return a.a.createElement(k,{key:n,row:t,play:e.play.bind(e)})}))))}},{key:"componentWillMount",value:function(){this.initGame()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state;if(t.curPlayer===r.curPlayer&&t.terminateState===r.terminateState){var a=this.state.curPlayer;this.checkWinner().then(function(e){e&&n.setState({winner:a,terminateState:!0}),n.togglePlayer()})}}},{key:"initGame",value:function(){var e=this,t=Object(m.a)(Array(this.props.rows).keys()).map(function(t){return Array(e.props.cols).fill(0)});this.setState({board:t,terminateState:!1,curPlayer:1,winner:0})}},{key:"play",value:function(){var e=Object(d.a)(h.a.mark(function e(t,n){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.terminateState){e.next=2;break}return e.abrupt("return");case 2:if(n){e.next=15;break}r=this.state.board,a=this.props.rows-1;case 5:if(!(a>=0)){e.next=13;break}if(r[a][t]){e.next=10;break}return r[a][t]=this.state.curPlayer,this.setState({board:r}),e.abrupt("return");case 10:a--,e.next=5;break;case 13:e.next=16;break;case 15:this.dropCell(t);case 16:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"dropCell",value:function(e){var t=this.state.curPlayer,n=this.state.board,r=n[0].map(function(e,t){return n.map(function(e){return e[t]})});if(t===n[n.length-1][e]){var a=r[e];a.unshift(0),a.length-=1,this.setState({board:r[0].map(function(e,t){return r.map(function(e){return e[t]})})})}}},{key:"togglePlayer",value:function(){if(this.state.curPlayer===this.state.player1)return this.setState({curPlayer:this.state.player2});this.setState({curPlayer:this.state.player1})}},{key:"checkWinner",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t,n,r=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.board.map(function(e){return e.map(function(e){return e===r.state.curPlayer?1:0})}),t=Object(b.b)(t.flat(2),[1,g.rows,g.cols,1]),n=g.rules.map(function(){var e=Object(d.a)(h.a.mark(function e(n){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.filter,a=Object(b.a)(t,r,1,"valid").flatten(),e.next=4,a.data();case 4:return a=e.sent,e.abrupt("return",Math.max.apply(Math,Object(m.a)(a))===n.total);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.next=5,Promise.all(n).then(function(e){return Math.max.apply(Math,Object(m.a)(e))});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(r.Component));j.defaultProps={cols:g.cols,rows:g.rows};var E=j,O=(n(194),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("h1",{className:"App-title"},"Connect Four")),a.a.createElement(E,null))}}]),t}(r.Component)),x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(a.a.createElement(O,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/ConnectFour",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/ConnectFour","/service-worker.js");x?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):P(e)})}}()},94:function(e,t,n){e.exports=n(195)},99:function(e,t,n){}},[[94,1,2]]]);
//# sourceMappingURL=main.35274360.chunk.js.map